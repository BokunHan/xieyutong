<template>
	<view class="bg-white rounded-xl shadow-lg overflow-hidden">
		<!-- ç»„ä»¶æ ‡é¢˜ -->
		<view class="bg-gradient-to-r from-blue-500 to-blue-600 px-8 py-6">
			<view class="flex items-center">
				<i class="fas fa-box text-white text-2xl mr-4"></i>
				<text class="text-2xl font-bold text-white">å•†å“åŸºæœ¬ä¿¡æ¯</text>
			</view>
		</view>

		<!-- è¡¨æ ¼å®¹å™¨ -->
		<view class="table-responsive">
			<table class="min-w-full divide-y divide-gray-200">
				<tbody class="bg-white divide-y divide-gray-200">
					<!-- æºç¨‹å•†å“ID -->
					<tr class="hover:bg-gray-50 transition-colors">
						<td class="px-8 py-6 whitespace-nowrap font-semibold text-gray-900 bg-gray-50 w-48">
							<i class="fas fa-fingerprint text-blue-500 mr-3"></i>
							æºç¨‹å•†å“ID
						</td>
						<td class="px-8 py-6">
							<uni-easyinput v-model="localData.ctrip_id" @input="handleUserInput" :styles="inputStyles" placeholder="è¯·è¾“å…¥æºç¨‹å•†å“ID" :clearable="true" />
						</td>
					</tr>

					<!-- å•†å“æ ‡é¢˜ -->
					<tr class="hover:bg-gray-50 transition-colors">
						<td class="px-8 py-6 whitespace-nowrap font-semibold text-gray-900 bg-gray-50">
							<i class="fas fa-heading text-blue-500 mr-3"></i>
							å•†å“æ ‡é¢˜
						</td>
						<td class="px-8 py-6">
							<uni-easyinput v-model="localData.title" @change="handleUserInput" :styles="inputStyles" placeholder="è¯·è¾“å…¥å•†å“æ ‡é¢˜" :clearable="true" />
						</td>
					</tr>

					<!-- å•†å“å‰¯æ ‡é¢˜ -->
					<tr class="hover:bg-gray-50 transition-colors">
						<td class="px-8 py-6 whitespace-nowrap font-semibold text-gray-900 bg-gray-50">
							<i class="fas fa-text-width text-blue-500 mr-3"></i>
							å•†å“å‰¯æ ‡é¢˜
						</td>
						<td class="px-8 py-6">
							<uni-easyinput
								v-model="localData.subtitle"
								@change="handleUserInput"
								:styles="textareaStyles"
								type="textarea"
								:autoHeight="true"
								placeholder="è¯·è¾“å…¥å•†å“å‰¯æ ‡é¢˜"
								:clearable="true" />
						</td>
					</tr>

					<tr class="hover:bg-gray-50 transition-colors">
						<td class="px-8 py-6 whitespace-nowrap font-semibold text-gray-900 bg-gray-50">
							<i class="fas fa-map-signs text-blue-500 mr-3"></i>
							è·¯çº¿æ ‡é¢˜
						</td>
						<td class="px-8 py-6">
							<uni-easyinput v-model="localData.route_title" @change="handleUserInput" :styles="inputStyles" placeholder="è¯·è¾“å…¥è·¯çº¿æ ‡é¢˜" :clearable="true" />
						</td>
					</tr>

					<tr class="hover:bg-gray-50 transition-colors">
						<td class="px-8 py-6 whitespace-nowrap font-semibold text-gray-900 bg-gray-50">
							<i class="fas fa-clipboard-list text-blue-500 mr-3"></i>
							è·¯çº¿æ¦‚è§ˆ
						</td>
						<td class="px-8 py-6">
							<view class="space-y-4">
								<view class="flex items-center">
									<label class="flex-shrink-0 w-28 flex items-center text-gray-600">
										<i class="fas fa-car w-6 text-center mr-1 text-gray-500"></i>
										è¡Œ
									</label>
									<uni-easyinput v-model="localData.route_overview.transport" @change="handleUserInput" :styles="flexInputStyles" placeholder="ä¾‹å¦‚ï¼šä¸“è½¦æ¥é€" :clearable="true" />
								</view>
								<view class="flex items-center">
									<label class="flex-shrink-0 w-28 flex items-center text-gray-600">
										<i class="fas fa-hotel w-6 text-center mr-1 text-gray-500"></i>
										ä½
									</label>
									<uni-easyinput
										v-model="localData.route_overview.accommodation"
										@change="handleUserInput"
										:styles="flexInputStyles"
										placeholder="ä¾‹å¦‚ï¼šå…¨ç¨‹5æ˜Ÿé…’åº—"
										:clearable="true" />
								</view>
								<view class="flex items-center">
									<label class="flex-shrink-0 w-28 flex items-center text-gray-600">
										<i class="fas fa-camera-retro w-6 text-center mr-1 text-gray-500"></i>
										æ¸¸
									</label>
									<uni-easyinput v-model="localData.route_overview.spots" @change="handleUserInput" :styles="flexInputStyles" placeholder="ä¾‹å¦‚ï¼š5å¤§æ ¸å¿ƒæ™¯ç‚¹" :clearable="true" />
								</view>
								<view class="flex items-center">
									<label class="flex-shrink-0 w-28 flex items-center text-gray-600">
										<i class="fas fa-utensils w-6 text-center mr-1 text-gray-500"></i>
										é¤
									</label>
									<uni-easyinput v-model="localData.route_overview.meals" @change="handleUserInput" :styles="flexInputStyles" placeholder="ä¾‹å¦‚ï¼šåŒ…å«3é¡¿ç‰¹è‰²é¤" :clearable="true" />
								</view>
								<view class="flex items-center">
									<label class="flex-shrink-0 w-28 flex items-center text-gray-600">
										<i class="fas fa-hiking w-6 text-center mr-1 text-gray-500"></i>
										æ´»
									</label>
									<uni-easyinput v-model="localData.route_overview.activities" @change="handleUserInput" :styles="flexInputStyles" placeholder="ä¾‹å¦‚ï¼šç¯ç«æ™šä¼š" :clearable="true" />
								</view>
							</view>
						</td>
					</tr>

					<!-- å•†å“å›¾ç‰‡ -->
					<tr class="hover:bg-gray-50 transition-colors">
						<td class="px-8 py-6 whitespace-nowrap font-semibold text-gray-900 bg-gray-50">
							<i class="fas fa-images text-purple-500 mr-3"></i>
							å•†å“å›¾ç‰‡
							<text class="block text-xs text-gray-500 mt-1">ä¸»è¦å±•ç¤ºå›¾ç‰‡</text>
						</td>
						<td class="px-8 py-6">
							<view class="space-y-4">
								<!-- å›¾ç‰‡ç½‘æ ¼å±•ç¤ºï¼ˆåŒ…å«ä¸Šä¼ æŒ‰é’®ï¼‰ -->
								<view class="grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10 gap-2">
									<!-- å·²ä¸Šä¼ çš„å›¾ç‰‡ï¼ˆå¯æ‹–æ‹½æ’åºï¼‰ -->
									<view
										v-for="(image, index) in localData.product_images"
										:key="index"
										class="relative group"
										:draggable="true"
										:data-index="index"
										@dragstart="onDragStart($event, index, 'product')"
										@dragover="onDragOver($event)"
										@drop="onDrop($event, index, 'product')"
										@dragend="onDragEnd"
										@click="previewImage(image, localData.product_images)"
										:class="{ 'scale-105 shadow-lg': draggingIndex === index && draggingType === 'product' }">
										<image
											:src="image"
											mode="aspectFill"
											class="w-18 h-18 rounded-lg object-cover border border-gray-200 hover:border-purple-400 transition-all duration-200 cursor-move" />

										<!-- æ‹–æ‹½æŒ‡ç¤ºå™¨ -->
										<view class="absolute top-1 left-1 opacity-0 group-hover:opacity-100 transition-opacity">
											<i class="fas fa-grip-vertical text-white text-xs bg-black bg-opacity-50 rounded px-1"></i>
										</view>

										<!-- åˆ é™¤æŒ‰é’® -->
										<button
											@click="removeProductImage(index)"
											class="absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors flex items-center justify-center text-xs opacity-0 group-hover:opacity-100">
											<i class="fas fa-times text-xs"></i>
										</button>

										<!-- æ‹–æ‹½æ”¾ç½®ç›®æ ‡æŒ‡ç¤ºå™¨ -->
										<view
											v-if="isDragOver && dropTargetIndex === index && draggingType === 'product'"
											class="absolute inset-0 border-2 border-dashed border-purple-500 bg-purple-50 bg-opacity-50 rounded-lg flex items-center justify-center">
											<i class="fas fa-arrow-down text-purple-500 text-lg"></i>
										</view>
									</view>

									<!-- ä¸Šä¼ æŒ‰é’® -->
									<view class="relative">
										<uni-file-picker
											@select="onProductImagesChange"
											@success="onProductImagesSuccess"
											@fail="onProductImagesFail"
											@input="onProductImagesInput"
											@progress="onProductImagesProgress"
											:limit="20"
											:del-icon="false"
											:auto-upload="true"
											file-mediatype="image"
											mode="list"
											:disabled="false"
											return-type="tempFilePaths">
											<view
												class="flex items-center justify-center w-18 h-18 border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-colors cursor-pointer"
												@click="onProductUploadClick">
												<view class="text-center">
													<i class="fas fa-plus text-base text-gray-400"></i>
													<text class="block text-xs text-gray-500 mt-0.5">ä¸Šä¼ </text>
												</view>
											</view>
										</uni-file-picker>
									</view>
								</view>

								<!-- å›¾ç‰‡æ•°é‡æç¤ºå’Œæ“ä½œè¯´æ˜ -->
								<view class="text-sm text-gray-500 space-y-2">
									<view class="flex items-center">
										<i class="fas fa-info-circle mr-2"></i>
										å·²ä¸Šä¼  {{ (localData.product_images || []).length }} å¼ å›¾ç‰‡ï¼Œæœ€å¤šæ”¯æŒ20å¼ 
									</view>
									<view class="flex items-center text-xs">
										<i class="fas fa-grip-vertical mr-2"></i>
										å¯æ‹–æ‹½å›¾ç‰‡è°ƒæ•´å±•ç¤ºé¡ºåºï¼Œç¬¬ä¸€å¼ ä¸ºä¸»å›¾
									</view>
								</view>

								<!-- æ‰‹åŠ¨è¾“å…¥URL -->
								<view class="border-t border-gray-200 pt-4">
									<view class="flex items-center space-x-3 mb-2">
										<uni-easyinput v-model="newProductImageUrl" :styles="flexInputStyles" placeholder="æˆ–ç›´æ¥è¾“å…¥å›¾ç‰‡URLåœ°å€" :clearable="true" />
										<button @click="addProductImageUrl" class="px-4 py-3 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors">
											<i class="fas fa-plus mr-1"></i>
											æ·»åŠ 
										</button>
									</view>
								</view>
							</view>
						</td>
					</tr>

					<!-- å•†å“è¯¦æƒ…å›¾ -->
					<tr class="hover:bg-gray-50 transition-colors">
						<td class="px-8 py-6 whitespace-nowrap font-semibold text-gray-900 bg-gray-50">
							<i class="fas fa-file-image text-indigo-500 mr-3"></i>
							å•†å“è¯¦æƒ…å›¾
							<text class="block text-xs text-gray-500 mt-1">è¯¦æƒ…é¡µå±•ç¤ºå›¾ç‰‡</text>
						</td>
						<td class="px-8 py-6">
							<view class="space-y-4">
								<!-- å›¾ç‰‡ç½‘æ ¼å±•ç¤ºï¼ˆåŒ…å«ä¸Šä¼ æŒ‰é’®ï¼‰ -->
								<view class="grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10 gap-2">
									<!-- å·²ä¸Šä¼ çš„å›¾ç‰‡ï¼ˆå¯æ‹–æ‹½æ’åºï¼‰ -->
									<view
										v-for="(image, index) in localData.detail_images"
										:key="index"
										class="relative group"
										:draggable="true"
										:data-index="index"
										@dragstart="onDragStart($event, index, 'detail')"
										@dragover="onDragOver($event)"
										@drop="onDrop($event, index, 'detail')"
										@dragend="onDragEnd"
										@click="previewImage(image, localData.detail_images)"
										:class="{ 'scale-105 shadow-lg': draggingIndex === index && draggingType === 'detail' }">
										<image
											:src="image"
											mode="aspectFill"
											class="w-18 h-18 rounded-lg object-cover border border-gray-200 hover:border-indigo-400 transition-all duration-200 cursor-move" />

										<!-- æ‹–æ‹½æŒ‡ç¤ºå™¨ -->
										<view class="absolute top-1 left-1 opacity-0 group-hover:opacity-100 transition-opacity">
											<i class="fas fa-grip-vertical text-white text-xs bg-black bg-opacity-50 rounded px-1"></i>
										</view>

										<!-- åˆ é™¤æŒ‰é’® -->
										<button
											@click="removeDetailImage(index)"
											class="absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors flex items-center justify-center text-xs opacity-0 group-hover:opacity-100">
											<i class="fas fa-times text-xs"></i>
										</button>

										<!-- æ‹–æ‹½æ”¾ç½®ç›®æ ‡æŒ‡ç¤ºå™¨ -->
										<view
											v-if="isDragOver && dropTargetIndex === index && draggingType === 'detail'"
											class="absolute inset-0 border-2 border-dashed border-indigo-500 bg-indigo-50 bg-opacity-50 rounded-lg flex items-center justify-center">
											<i class="fas fa-arrow-down text-indigo-500 text-lg"></i>
										</view>
									</view>

									<!-- ä¸Šä¼ æŒ‰é’® -->
									<view class="relative">
										<uni-file-picker
											@select="onDetailImagesChange"
											@success="onDetailImagesSuccess"
											@fail="onDetailImagesFail"
											@input="onDetailImagesInput"
											@progress="onDetailImagesProgress"
											:limit="50"
											:del-icon="false"
											:auto-upload="true"
											file-mediatype="image"
											mode="list"
											:disabled="false"
											return-type="tempFilePaths">
											<view
												class="flex items-center justify-center w-18 h-18 border-2 border-dashed border-gray-300 rounded-lg hover:border-indigo-500 hover:bg-indigo-50 transition-colors cursor-pointer"
												@click="onDetailUploadClick">
												<view class="text-center">
													<i class="fas fa-plus text-base text-gray-400"></i>
													<text class="block text-xs text-gray-500 mt-0.5">ä¸Šä¼ </text>
												</view>
											</view>
										</uni-file-picker>
									</view>
								</view>

								<!-- å›¾ç‰‡æ•°é‡æç¤ºå’Œæ“ä½œè¯´æ˜ -->
								<view class="text-sm text-gray-500 space-y-2">
									<view class="flex items-center">
										<i class="fas fa-info-circle mr-2"></i>
										å·²ä¸Šä¼  {{ (localData.detail_images || []).length }} å¼ å›¾ç‰‡ï¼Œæœ€å¤šæ”¯æŒ50å¼ 
									</view>
									<view class="flex items-center text-xs">
										<i class="fas fa-grip-vertical mr-2"></i>
										å¯æ‹–æ‹½å›¾ç‰‡è°ƒæ•´å±•ç¤ºé¡ºåº
									</view>
								</view>

								<!-- æ‰‹åŠ¨è¾“å…¥URL -->
								<view class="border-t border-gray-200 pt-4">
									<view class="flex items-center space-x-3 mb-2">
										<uni-easyinput v-model="newDetailImageUrl" :styles="flexInputStyles" placeholder="æˆ–ç›´æ¥è¾“å…¥å›¾ç‰‡URLåœ°å€" :clearable="true" />
										<button @click="addDetailImageUrl" class="px-4 py-3 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-colors">
											<i class="fas fa-plus mr-1"></i>
											æ·»åŠ 
										</button>
									</view>
								</view>
							</view>
						</td>
					</tr>

					<!-- è¡Œç¨‹å¤©æ•° -->
					<tr class="hover:bg-gray-50 transition-colors">
						<td class="px-8 py-6 whitespace-nowrap font-semibold text-gray-900 bg-gray-50">
							<i class="fas fa-calendar-days text-blue-500 mr-3"></i>
							è¡Œç¨‹å¤©æ•°
						</td>
						<td class="px-8 py-6">
							<view class="flex items-center space-x-3">
								<uni-easyinput v-model="localData.duration_days" @change="handleUserInput" type="number" :styles="smallInputStyles" placeholder="1" :clearable="true" />
								<text class="text-lg text-gray-600">å¤©</text>
								<view class="text-sm text-gray-500">
									<i class="fas fa-info-circle mr-1"></i>
									æ—…æ¸¸äº§å“çš„æ€»æ¸¸ç©å¤©æ•°
								</view>
							</view>
						</td>
					</tr>

					<!-- ä»·æ ¼ä¿¡æ¯ -->
					<tr class="hover:bg-gray-50 transition-colors">
						<td class="px-8 py-6 whitespace-nowrap font-semibold text-gray-900 bg-gray-50">
							<i class="fas fa-money-bill-wave text-green-500 mr-3"></i>
							ä»·æ ¼ä¿¡æ¯
						</td>
						<td class="px-8 py-6">
							<view class="grid grid-cols-1 md:grid-cols-2 gap-6">
								<view>
									<label class="block text-sm font-medium text-gray-700 mb-2">æˆäººä»·æ ¼ï¼ˆå…ƒï¼‰</label>
									<uni-easyinput v-model="localData.price" @change="handleUserInput" type="number" :styles="inputStyles" placeholder="0.00" :clearable="true" />
								</view>
								<view>
									<label class="block text-sm font-medium text-gray-700 mb-2">å„¿ç«¥ä»·æ ¼ï¼ˆå…ƒï¼‰</label>
									<uni-easyinput v-model="localData.child_price" @change="handleUserInput" type="number" :styles="inputStyles" placeholder="0.00" :clearable="true" />
								</view>
							</view>
						</td>
					</tr>

					<!-- è¯„åˆ† -->
					<tr class="hover:bg-gray-50 transition-colors">
						<td class="px-8 py-6 whitespace-nowrap font-semibold text-gray-900 bg-gray-50">
							<i class="fas fa-star text-yellow-500 mr-3"></i>
							äº§å“è¯„åˆ†
						</td>
						<td class="px-8 py-6">
							<view class="flex items-center space-x-4">
								<uni-easyinput v-model="localData.rating" @change="handleUserInput" type="number" :styles="smallInputStyles" :clearable="true" />
								<view class="flex items-center">
									<!-- <i v-for="i in 5" :key="i" 
                     :class="i <= Math.floor(localData.rating) ? 'fas fa-star text-yellow-400' : 'far fa-star text-gray-300'"
                     class="text-xl"></i> -->
									<view class="star-rating-container text-xl">
										<view class="stars-background text-gray-300">
											<text class="fas fa-star"></text>
											<text class="fas fa-star"></text>
											<text class="fas fa-star"></text>
											<text class="fas fa-star"></text>
											<text class="fas fa-star"></text>
										</view>
										<view class="stars-foreground text-yellow-400" :style="{ width: ((localData.rating || 0) / 5) * 100 + '%' }">
											<text class="fas fa-star"></text>
											<text class="fas fa-star"></text>
											<text class="fas fa-star"></text>
											<text class="fas fa-star"></text>
											<text class="fas fa-star"></text>
										</view>
									</view>
									<text class="ml-2 text-gray-600 text-lg">{{ localData.rating }}/5.0</text>
								</view>
							</view>
						</td>
					</tr>

					<tr class="hover:bg-gray-50 transition-colors">
						<td class="px-8 py-6 whitespace-nowrap font-semibold text-gray-900 bg-gray-50">
							<i class="fas fa-thumbs-up text-blue-500 mr-3"></i>
							å¥½è¯„ç‡
						</td>
						<td class="px-8 py-6">
							<view class="flex items-center space-x-3">
								<uni-easyinput v-model.number="localData.good_rate" @change="handleUserInput" type="number" :styles="smallInputStyles" placeholder="98.5" :clearable="true" />
								<text class="text-lg text-gray-600">%</text>
								<view class="text-sm text-gray-500">
									<i class="fas fa-info-circle mr-1"></i>
									è¯·è¾“å…¥ 0-100 ä¹‹é—´çš„æ•°å€¼
								</view>
							</view>
						</td>
					</tr>

					<tr class="hover:bg-gray-50 transition-colors">
						<td class="px-8 py-6 whitespace-nowrap font-semibold text-gray-900 bg-gray-50">
							<i class="fas fa-star-half-alt text-blue-500 mr-3"></i>
							è¯„åˆ†æ˜ç»†
						</td>
						<td class="px-8 py-6">
							<view class="grid grid-cols-1 md:grid-cols-3 gap-6">
								<view>
									<label class="block text-sm font-medium text-gray-700 mb-2">
										<i class="fas fa-route w-6 text-center mr-2 text-gray-500"></i>
										è¡Œç¨‹å®‰æ’
									</label>
									<uni-easyinput
										v-model.number="localData.rating_spec.itinerary"
										@change="handleUserInput"
										type="number"
										:styles="inputStyles"
										placeholder="ä¾‹å¦‚ï¼š4.8"
										:clearable="true" />
								</view>
								<view>
									<label class="block text-sm font-medium text-gray-700 mb-2">
										<i class="fas fa-bed w-6 text-center mr-2 text-gray-500"></i>
										é…’åº—ä½“éªŒ
									</label>
									<uni-easyinput
										v-model.number="localData.rating_spec.accommodation"
										@change="handleUserInput"
										type="number"
										:styles="inputStyles"
										placeholder="ä¾‹å¦‚ï¼š4.7"
										:clearable="true" />
								</view>
								<view>
									<label class="block text-sm font-medium text-gray-700 mb-2">
										<i class="fas fa-user-tie w-6 text-center mr-2 text-gray-500"></i>
										å¸å¯¼æœåŠ¡
									</label>
									<uni-easyinput
										v-model.number="localData.rating_spec.service"
										@change="handleUserInput"
										type="number"
										:styles="inputStyles"
										placeholder="ä¾‹å¦‚ï¼š4.9"
										:clearable="true" />
								</view>
							</view>
						</td>
					</tr>

					<!-- å•†å“çŠ¶æ€ -->
					<tr class="hover:bg-gray-50 transition-colors">
						<td class="px-8 py-6 whitespace-nowrap font-semibold text-gray-900 bg-gray-50">
							<i class="fas fa-toggle-on text-green-500 mr-3"></i>
							å•†å“çŠ¶æ€
						</td>
						<td class="px-8 py-6">
							<select
								v-model.number="localData.status"
								@change="handleUserInput"
								class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-lg bg-white">
								<option value="0">ä¸‹æ¶</option>
								<option value="1">ä¸Šæ¶</option>
							</select>
						</td>
					</tr>

					<!-- ç»Ÿè®¡ä¿¡æ¯ -->
					<tr class="hover:bg-gray-50 transition-colors">
						<td class="px-8 py-6 whitespace-nowrap font-semibold text-gray-900 bg-gray-50">
							<i class="fas fa-chart-bar text-purple-500 mr-3"></i>
							ç»Ÿè®¡ä¿¡æ¯
						</td>
						<td class="px-8 py-6">
							<view class="grid grid-cols-1 md:grid-cols-3 gap-6">
								<view>
									<label class="block text-sm font-medium text-gray-700 mb-2">æµè§ˆæ¬¡æ•°</label>
									<uni-easyinput v-model="localData.view_count" @change="handleUserInput" type="number" :styles="inputStyles" :clearable="true" />
								</view>
								<view>
									<label class="block text-sm font-medium text-gray-700 mb-2">é”€å”®æ•°é‡</label>
									<uni-easyinput v-model="localData.sales_count" @change="handleUserInput" type="number" :styles="inputStyles" :clearable="true" />
								</view>
								<view>
									<label class="block text-sm font-medium text-gray-700 mb-2">è¯„ä»·æ•°é‡</label>
									<uni-easyinput v-model="localData.review_count" @change="handleUserInput" type="number" :styles="inputStyles" :clearable="true" />
								</view>
							</view>
						</td>
					</tr>

					<!-- æ’åºæƒé‡ -->
					<tr class="hover:bg-gray-50 transition-colors">
						<td class="px-8 py-6 whitespace-nowrap font-semibold text-gray-900 bg-gray-50">
							<i class="fas fa-sort-numeric-up text-indigo-500 mr-3"></i>
							æ’åºæƒé‡
						</td>
						<td class="px-8 py-6">
							<uni-easyinput v-model="localData.sort_order" @change="handleUserInput" type="number" :styles="inputStyles" placeholder="æ•°å€¼è¶Šå¤§æ’åºè¶Šé å‰" :clearable="true" />
						</td>
					</tr>

					<!-- å•†å“æ¦‚è§ˆ -->
					<tr class="hover:bg-gray-50 transition-colors">
						<td class="px-8 py-6 whitespace-nowrap font-semibold text-gray-900 bg-gray-50">
							<i class="fas fa-eye text-cyan-500 mr-3"></i>
							å•†å“æ¦‚è§ˆ
						</td>
						<td class="px-8 py-6">
							<view class="space-y-4">
								<!-- å¯¼æ¸¸ä¿¡æ¯ -->
								<view>
									<label class="block text-sm font-medium text-gray-700 mb-2">
										<i class="fas fa-user-tie text-blue-500 mr-2"></i>
										å¯¼æ¸¸ä¿¡æ¯
									</label>
									<uni-easyinput
										v-model="localData.overview.guide"
										@change="handleUserInput"
										type="textarea"
										:styles="textareaStyles"
										:autoHeight="true"
										placeholder="è¯·è¾“å…¥å¯¼æ¸¸æœåŠ¡ä¿¡æ¯"
										:clearable="true" />
								</view>

								<!-- äº¤é€šä¿¡æ¯ -->
								<view>
									<label class="block text-sm font-medium text-gray-700 mb-2">
										<i class="fas fa-car text-green-500 mr-2"></i>
										äº¤é€šä¿¡æ¯
									</label>
									<uni-easyinput
										v-model="localData.overview.transport"
										@change="handleUserInput"
										type="textarea"
										:styles="textareaStyles"
										:autoHeight="true"
										placeholder="è¯·è¾“å…¥äº¤é€šå®‰æ’ä¿¡æ¯"
										:clearable="true" />
								</view>

								<!-- æ´»åŠ¨ä¿¡æ¯ -->
								<view>
									<label class="block text-sm font-medium text-gray-700 mb-2">
										<i class="fas fa-hiking text-orange-500 mr-2"></i>
										æ´»åŠ¨ä¿¡æ¯
									</label>
									<uni-easyinput
										v-model="localData.overview.activities"
										@change="handleUserInput"
										type="textarea"
										:styles="textareaStyles"
										:autoHeight="true"
										placeholder="è¯·è¾“å…¥æ™¯ç‚¹æ´»åŠ¨ä¿¡æ¯"
										:clearable="true" />
								</view>

								<!-- ä½å®¿ä¿¡æ¯ -->
								<view>
									<label class="block text-sm font-medium text-gray-700 mb-2">
										<i class="fas fa-bed text-purple-500 mr-2"></i>
										ä½å®¿ä¿¡æ¯
									</label>
									<uni-easyinput
										v-model="localData.overview.accommodation"
										@change="handleUserInput"
										type="textarea"
										:styles="textareaStyles"
										:autoHeight="true"
										placeholder="è¯·è¾“å…¥ä½å®¿å®‰æ’ä¿¡æ¯"
										:clearable="true" />
								</view>

								<!-- é¤é£Ÿä¿¡æ¯ -->
								<view>
									<label class="block text-sm font-medium text-gray-700 mb-2">
										<i class="fas fa-utensils text-red-500 mr-2"></i>
										é¤é£Ÿä¿¡æ¯
									</label>
									<uni-easyinput
										v-model="localData.overview.meals"
										@change="handleUserInput"
										type="textarea"
										:styles="textareaStyles"
										:autoHeight="true"
										placeholder="è¯·è¾“å…¥é¤é£Ÿå®‰æ’ä¿¡æ¯"
										:clearable="true" />
								</view>
							</view>
						</td>
					</tr>

					<!-- è´¹ç”¨è¯´æ˜ -->
					<tr class="hover:bg-gray-50 transition-colors">
						<td class="px-8 py-6 whitespace-nowrap font-semibold text-gray-900 bg-gray-50">
							<i class="fas fa-calculator text-orange-500 mr-3"></i>
							è´¹ç”¨è¯´æ˜
						</td>
						<td class="px-8 py-6">
							<view class="space-y-4">
								<!-- äº¤é€šè´¹ç”¨ -->
								<view>
									<label class="block text-sm font-medium text-gray-700 mb-2">
										<i class="fas fa-car text-blue-500 mr-2"></i>
										äº¤é€šè´¹ç”¨
									</label>
									<uni-easyinput
										v-model="localData.cost_info.transport"
										@change="handleUserInput"
										type="textarea"
										:styles="textareaStyles"
										:autoHeight="true"
										placeholder="è¯·è¾“å…¥äº¤é€šè´¹ç”¨è¯´æ˜"
										:clearable="true" />
								</view>

								<!-- ä½å®¿è´¹ç”¨ -->
								<view>
									<label class="block text-sm font-medium text-gray-700 mb-2">
										<i class="fas fa-bed text-purple-500 mr-2"></i>
										ä½å®¿è´¹ç”¨
									</label>
									<uni-easyinput
										v-model="localData.cost_info.accommodation"
										@change="handleUserInput"
										type="textarea"
										:styles="textareaStyles"
										:autoHeight="true"
										placeholder="è¯·è¾“å…¥ä½å®¿è´¹ç”¨è¯´æ˜"
										:clearable="true" />
								</view>

								<!-- é¤é£Ÿè´¹ç”¨ -->
								<view>
									<label class="block text-sm font-medium text-gray-700 mb-2">
										<i class="fas fa-utensils text-red-500 mr-2"></i>
										é¤é£Ÿè´¹ç”¨
									</label>
									<uni-easyinput
										v-model="localData.cost_info.meals"
										@change="handleUserInput"
										type="textarea"
										:styles="textareaStyles"
										:autoHeight="true"
										placeholder="è¯·è¾“å…¥é¤é£Ÿè´¹ç”¨è¯´æ˜"
										:clearable="true" />
								</view>

								<!-- é—¨ç¥¨è´¹ç”¨ -->
								<view>
									<label class="block text-sm font-medium text-gray-700 mb-2">
										<i class="fas fa-ticket-alt text-green-500 mr-2"></i>
										é—¨ç¥¨è´¹ç”¨
									</label>
									<uni-easyinput
										v-model="localData.cost_info.tickets"
										@change="handleUserInput"
										type="textarea"
										:styles="textareaStyles"
										:autoHeight="true"
										placeholder="è¯·è¾“å…¥é—¨ç¥¨è´¹ç”¨è¯´æ˜"
										:clearable="true" />
								</view>

								<!-- æœåŠ¡è´¹ç”¨ -->
								<view>
									<label class="block text-sm font-medium text-gray-700 mb-2">
										<i class="fas fa-concierge-bell text-orange-500 mr-2"></i>
										æœåŠ¡è´¹ç”¨
									</label>
									<uni-easyinput
										v-model="localData.cost_info.service"
										@change="handleUserInput"
										type="textarea"
										:styles="textareaStyles"
										:autoHeight="true"
										placeholder="è¯·è¾“å…¥æœåŠ¡è´¹ç”¨è¯´æ˜"
										:clearable="true" />
								</view>
							</view>
						</td>
					</tr>

					<!-- å•†å“ç‰¹è‰² -->
					<tr class="hover:bg-gray-50 transition-colors">
						<td class="px-8 py-6 whitespace-nowrap font-semibold text-gray-900 bg-gray-50">
							<i class="fas fa-star text-yellow-500 mr-3"></i>
							å•†å“ç‰¹è‰²
						</td>
						<td class="px-8 py-6">
							<view class="space-y-4">
								<view v-for="(feature, index) in localData.features" :key="index" class="flex items-center space-x-3">
									<view class="flex items-center flex-1">
										<i class="fas fa-medal text-orange-500 mr-3 text-lg"></i>
										<uni-easyinput
											v-model="localData.features[index]"
											@change="handleUserInput"
											:styles="flexInputStyles"
											:placeholder="`ç‰¹è‰²äº®ç‚¹ ${index + 1}`"
											:clearable="true" />
									</view>
									<button @click="removeFeature(index)" class="px-4 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors">
										<i class="fas fa-trash"></i>
									</button>
								</view>
								<button
									@click="addFeature"
									class="w-full py-3 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:border-blue-500 hover:text-blue-500 transition-colors text-lg">
									<i class="fas fa-plus mr-2"></i>
									æ·»åŠ å•†å“ç‰¹è‰²
								</button>
							</view>
						</td>
					</tr>
				</tbody>
			</table>
		</view>
	</view>
</template>

<script>
import { toRaw } from 'vue';

export default {
	name: 'ProductInfo',
	props: {
		productData: {
			type: Object,
			default: () => ({})
		}
	},
	data() {
		return {
			isDirty: false, // å½“ç”¨æˆ·å¼€å§‹ç¼–è¾‘æ•°æ®æ—¶ï¼ŒisDirtyå˜ä¸ºtrueï¼Œé˜²æ­¢productDataå› æŸç§åŸå› å˜åŒ–æˆ–åˆ·æ–°è€Œè¦†ç›–äº†localDataï¼Œé€ æˆç”¨æˆ·è¾“å…¥è¢«è¦†ç›–
			localData: {
				ctrip_id: '',
				title: '',
				subtitle: '',
				route_title: '',
				route_overview: {
					transport: '',
					accommodation: '',
					spots: '',
					meals: '',
					activities: ''
				},
				price: 0,
				child_price: 0,
				rating: 5.0,
				good_rate: 100,
				rating_spec: {
					itinerary: 5,
					accommodation: 5,
					service: 5
				},
				status: 1,
				view_count: 0,
				sales_count: 0,
				review_count: 0,
				sort_order: 0,
				product_images: [],
				detail_images: [],
				duration_days: 1,
				features: [],
				category: 'å›½å†…æ¸¸',
				destination: '',
				tags: [],
				overview: {
					guide: '',
					transport: '',
					activities: '',
					accommodation: '',
					meals: ''
				},
				cost_info: {
					transport: '',
					accommodation: '',
					meals: '',
					tickets: '',
					service: ''
				},
				crawl_timestamp: '',
				...this.productData
			},
			// æ–°å›¾ç‰‡URLè¾“å…¥
			newProductImageUrl: '',
			newDetailImageUrl: '',
			// æ‹–æ‹½çŠ¶æ€
			draggingIndex: -1,
			draggingType: '', // 'product' æˆ– 'detail'
			isDragOver: false,
			dropTargetIndex: -1,
			// uni-easyinput æ ·å¼é…ç½®
			inputStyles: {
				borderRadius: '8px',
				borderColor: '#d1d5db',
				fontSize: '18px',
				padding: '12px 16px'
			},
			smallInputStyles: {
				borderRadius: '8px',
				borderColor: '#d1d5db',
				fontSize: '18px',
				padding: '12px 16px',
				width: '128px'
			},
			flexInputStyles: {
				borderRadius: '8px',
				borderColor: '#d1d5db',
				fontSize: '18px',
				padding: '12px 16px',
				flex: '1'
			},
			textareaStyles: {
				borderRadius: '8px',
				borderColor: '#d1d5db',
				fontSize: '18px',
				padding: '12px 16px'
			}
		};
	},
	created() {
		console.log('ğŸ¬ [ProductInfo] ç»„ä»¶åˆ›å»ºå®Œæˆ');
		console.log('ğŸ¬ [ProductInfo] åˆå§‹productData:', toRaw(this.productData));
		console.log('ğŸ¬ [ProductInfo] åˆå§‹localData:', toRaw(this.localData));
		console.log('ğŸ¬ [ProductInfo] å•†å“æ¦‚è§ˆæ•°æ®ç»“æ„:', {
			overviewç±»å‹: typeof this.localData.overview,
			overviewå†…å®¹: this.localData.overview,
			costInfoç±»å‹: typeof this.localData.cost_info,
			costInfoå†…å®¹: this.localData.cost_info
		});
		console.log('ğŸ¬ [ProductInfo] åˆå§‹å›¾ç‰‡çŠ¶æ€:', {
			å•†å“å›¾ç‰‡æ•°é‡: (this.localData.product_images || []).length,
			è¯¦æƒ…å›¾ç‰‡æ•°é‡: (this.localData.detail_images || []).length,
			è¡Œç¨‹å¤©æ•°: this.localData.duration_days,
			å•†å“å›¾ç‰‡åˆ—è¡¨: this.localData.product_images,
			è¯¦æƒ…å›¾ç‰‡åˆ—è¡¨: this.localData.detail_images
		});
	},

	mounted() {
		console.log('ğŸ¯ [ProductInfo] ç»„ä»¶æŒ‚è½½å®Œæˆ');
		console.log('ğŸ¯ [ProductInfo] æŒ‚è½½æ—¶å›¾ç‰‡çŠ¶æ€:', {
			å•†å“å›¾ç‰‡æ•°é‡: (this.localData.product_images || []).length,
			è¯¦æƒ…å›¾ç‰‡æ•°é‡: (this.localData.detail_images || []).length,
			è¡Œç¨‹å¤©æ•°: this.localData.duration_days
		});

		// æ£€æŸ¥uni-file-pickerç»„ä»¶
		this.$nextTick(() => {
			console.log('ğŸ”§ [ProductInfo] æ£€æŸ¥uni-file-pickerç»„ä»¶æ˜¯å¦å­˜åœ¨');
			const filePickerElements = this.$el.querySelectorAll('.uni-file-picker');
			console.log('ğŸ”§ [ProductInfo] æ‰¾åˆ°çš„uni-file-pickerå…ƒç´ æ•°é‡:', filePickerElements.length);

			// æ·»åŠ å…¨å±€ç‚¹å‡»äº‹ä»¶ç›‘å¬æ¥æµ‹è¯•
			console.log('ğŸ”§ [ProductInfo] æ·»åŠ å…¨å±€ç‚¹å‡»ç›‘å¬å™¨ç”¨äºè°ƒè¯•');
		});
	},

	beforeDestroy() {
		console.log('ğŸ’” [ProductInfo] ç»„ä»¶å³å°†é”€æ¯');
		console.log('ğŸ’” [ProductInfo] é”€æ¯æ—¶å›¾ç‰‡çŠ¶æ€:', {
			å•†å“å›¾ç‰‡æ•°é‡: (this.localData.product_images || []).length,
			è¯¦æƒ…å›¾ç‰‡æ•°é‡: (this.localData.detail_images || []).length
		});
	},
	watch: {
		productData: {
			handler(newVal, oldVal) {
				// åªåœ¨åˆå§‹åŒ–æ—¶æ›´æ–° localDataï¼Œé¿å…è¦†ç›–ç”¨æˆ·è¾“å…¥
				// if (!oldVal || Object.keys(oldVal).length === 0) {
				if (!this.isDirty) {
					console.log('ğŸ”„ [ProductInfo] åˆå§‹åŒ– productData:', toRaw(newVal));

					if (newVal) {
						const updatedData = { ...this.localData, ...newVal };

						if (!updatedData.overview) {
							updatedData.overview = {};
						}

						if (!updatedData.cost_info) {
							updatedData.cost_info = {};
						}

						// ç¡®ä¿ overview å§‹ç»ˆæ˜¯å¯¹è±¡
						if (newVal.overview && typeof newVal.overview === 'object') {
							updatedData.overview = {
								...this.localData.overview,
								...newVal.overview
							};
						}

						// ç¡®ä¿ cost_info å§‹ç»ˆæ˜¯å¯¹è±¡
						if (newVal.cost_info && typeof newVal.cost_info === 'object') {
							updatedData.cost_info = {
								...this.localData.cost_info,
								...newVal.cost_info
							};
						}

						this.localData = updatedData;
						console.log('âœ… [ProductInfo] åˆå§‹åŒ–å®Œæˆ');
					}
				} else {
					console.log('ğŸ”„ [ProductInfo] productDataå˜åŒ–ï¼Œä½†ä¸è¦†ç›–ç”¨æˆ·è¾“å…¥');
				}
			},
			deep: true,
			immediate: true
		}
	},
	methods: {
		handleUserInput() {
			this.isDirty = true;
			this.updateData();
		},
		updateData() {
			console.log('ğŸ“¤ [ProductInfo] å‘é€æ•°æ®æ›´æ–°äº‹ä»¶å¼€å§‹');
			console.log('ğŸ“¤ [ProductInfo] è§¦å‘æ—¶é—´:', new Date().toLocaleString());
			console.log('ğŸ“¤ [ProductInfo] å½“å‰localData:', toRaw(this.localData));
			console.log('ğŸ“¤ [ProductInfo] localDataå®Œæ•´ç»“æ„:', toRaw(this.localData));
			console.log('ğŸ“¤ [ProductInfo] å…³é”®å­—æ®µæ£€æŸ¥:', {
				ctrip_id: this.localData.ctrip_id,
				title: this.localData.title,
				price: this.localData.price,
				price_type: typeof this.localData.price,
				status: this.localData.status,
				status_type: typeof this.localData.status
			});
			console.log('ğŸ“¤ [ProductInfo] å•†å“å›¾ç‰‡æ•°é‡:', (this.localData.product_images || []).length);
			console.log('ğŸ“¤ [ProductInfo] è¯¦æƒ…å›¾ç‰‡æ•°é‡:', (this.localData.detail_images || []).length);

			this.$emit('update', this.localData);
			console.log('âœ… [ProductInfo] æ•°æ®æ›´æ–°äº‹ä»¶å·²å‘é€ï¼Œæ•°æ®:', toRaw(this.localData));
		},
		// ç‚¹å‡»äº‹ä»¶æµ‹è¯•
		onProductUploadClick() {
			console.log('ğŸ¯ [ProductInfo] å•†å“å›¾ç‰‡ä¸Šä¼ æŒ‰é’®è¢«ç‚¹å‡»');
		},

		onDetailUploadClick() {
			console.log('ğŸ¯ [ProductInfo] è¯¦æƒ…å›¾ç‰‡ä¸Šä¼ æŒ‰é’®è¢«ç‚¹å‡»');
		},

		addFeature() {
			this.isDirty = true;
			console.log('â­ [ProductInfo] æ·»åŠ å•†å“ç‰¹è‰²');
			if (!Array.isArray(this.localData.features)) {
				this.localData.features = [];
			}
			this.localData.features.push('');
			console.log('â­ [ProductInfo] å•†å“ç‰¹è‰²å·²æ·»åŠ ï¼Œå½“å‰æ•°é‡:', this.localData.features.length);
			this.updateData();
		},
		removeFeature(index) {
			this.isDirty = true;
			console.log('â­ [ProductInfo] åˆ é™¤å•†å“ç‰¹è‰²ï¼Œç´¢å¼•:', index);
			this.localData.features.splice(index, 1);
			console.log('â­ [ProductInfo] å•†å“ç‰¹è‰²å·²åˆ é™¤ï¼Œå½“å‰æ•°é‡:', this.localData.features.length);
			this.updateData();
		},

		// å•†å“å›¾ç‰‡å¤„ç†æ–¹æ³• - æµ‹è¯•å¤šä¸ªäº‹ä»¶
		onProductImagesInput(files) {
			console.log('ğŸš¨ [ProductInfo] å•†å“å›¾ç‰‡ @input äº‹ä»¶è§¦å‘:', files);
			console.log('â„¹ï¸ [ProductInfo] @inputäº‹ä»¶ä»…ç”¨äºç›‘æ§ï¼Œä¸å¤„ç†å›¾ç‰‡æ·»åŠ ');
			// æ³¨æ„ï¼š@input äº‹ä»¶ä»…ç”¨äºç›‘æ§ï¼Œå®é™…çš„å›¾ç‰‡æ·»åŠ åœ¨ @success äº‹ä»¶ä¸­å¤„ç†
		},

		onProductImagesSuccess(files) {
			console.log('ğŸš¨ [ProductInfo] å•†å“å›¾ç‰‡ @success äº‹ä»¶è§¦å‘:', files);
			console.log('âœ… [ProductInfo] ä½¿ç”¨@successäº‹ä»¶å¤„ç†å›¾ç‰‡æ·»åŠ ï¼ˆç¡®ä¿ä¸Šä¼ æˆåŠŸï¼‰');
			this.handleProductImagesUpload(files, 'success');
		},

		onProductImagesFail(error) {
			console.log('ğŸš¨ [ProductInfo] å•†å“å›¾ç‰‡ @fail äº‹ä»¶è§¦å‘:', error);
		},

		onProductImagesProgress(progress) {
			console.log('ğŸš¨ [ProductInfo] å•†å“å›¾ç‰‡ @progress äº‹ä»¶è§¦å‘:', progress);
		},

		onProductImagesChange(files) {
			console.log('ğŸš¨ [ProductInfo] å•†å“å›¾ç‰‡ @select äº‹ä»¶è§¦å‘:', files);
			console.log('â„¹ï¸ [ProductInfo] @selectäº‹ä»¶ä»…ç”¨äºé¢„è§ˆï¼Œä¸å¤„ç†å›¾ç‰‡æ·»åŠ ');
			// æ³¨æ„ï¼š@select äº‹ä»¶ä»…ç”¨äºé¢„è§ˆï¼Œå®é™…çš„å›¾ç‰‡æ·»åŠ åœ¨ @success äº‹ä»¶ä¸­å¤„ç†
		},

		// ç»Ÿä¸€çš„å•†å“å›¾ç‰‡å¤„ç†æ–¹æ³•
		handleProductImagesUpload(files, eventType) {
			this.isDirty = true;
			console.log('ğŸ“· [ProductInfo] å•†å“å›¾ç‰‡ä¸Šä¼ å¼€å§‹');
			console.log('ğŸ“· [ProductInfo] è§¦å‘äº‹ä»¶ç±»å‹:', eventType);
			console.log('ğŸ“· [ProductInfo] æ¥æ”¶åˆ°çš„fileså‚æ•°:', files);
			console.log('ğŸ“· [ProductInfo] filesç±»å‹:', typeof files);
			console.log('ğŸ“· [ProductInfo] å½“å‰å•†å“å›¾ç‰‡æ•°é‡:', (this.localData.product_images || []).length);

			// åªå¤„ç† success äº‹ä»¶ï¼Œé¿å…é‡å¤æ·»åŠ 
			if (eventType !== 'success') {
				console.log('â„¹ï¸ [ProductInfo] åªåœ¨successäº‹ä»¶ä¸­å¤„ç†å›¾ç‰‡æ·»åŠ ï¼Œå½“å‰äº‹ä»¶å·²å¿½ç•¥:', eventType);
				return;
			}

			if (files && files.tempFilePaths && files.tempFilePaths.length > 0) {
				console.log('ğŸ“· [ProductInfo] å¤„ç†tempFilePathsæ ¼å¼æ•°æ®');
				console.log('ğŸ“· [ProductInfo] tempFilePathså†…å®¹:', files.tempFilePaths);

				// å¤„ç†ä¸Šä¼ æˆåŠŸçš„å›¾ç‰‡
				const urls = files.tempFilePaths.map((file, index) => {
					const url = file.url || file.path || file;
					console.log(`ğŸ“· [ProductInfo] å¤„ç†ç¬¬${index + 1}å¼ å›¾ç‰‡:`, { file, extractedUrl: url });
					return url;
				});

				console.log('ğŸ“· [ProductInfo] æå–åˆ°çš„URLåˆ—è¡¨:', urls);

				if (!Array.isArray(this.localData.product_images)) {
					console.log('ğŸ“· [ProductInfo] åˆå§‹åŒ–å•†å“å›¾ç‰‡æ•°ç»„');
					this.localData.product_images = [];
				}

				const originalCount = this.localData.product_images.length;
				this.localData.product_images = [...this.localData.product_images, ...urls];
				console.log('ğŸ“· [ProductInfo] å›¾ç‰‡æ·»åŠ å®Œæˆ:', {
					originalCount,
					addedCount: urls.length,
					newTotalCount: this.localData.product_images.length,
					allImages: this.localData.product_images
				});

				this.updateData();

				uni.showToast({
					title: `æˆåŠŸä¸Šä¼ ${urls.length}å¼ å›¾ç‰‡`,
					icon: 'success'
				});

				console.log('âœ… [ProductInfo] å•†å“å›¾ç‰‡ä¸Šä¼ æµç¨‹å®Œæˆ');
			} else if (Array.isArray(files) && files.length > 0) {
				console.log('ğŸ“· [ProductInfo] å¤„ç†ç›´æ¥æ–‡ä»¶æ•°ç»„æ ¼å¼');
				console.log('ğŸ“· [ProductInfo] æ–‡ä»¶æ•°ç»„å†…å®¹:', files);

				// ç›´æ¥æ˜¯æ–‡ä»¶æ•°ç»„
				const urls = files.map((file, index) => {
					const url = file.url || file.path || file;
					console.log(`ğŸ“· [ProductInfo] å¤„ç†ç¬¬${index + 1}ä¸ªæ–‡ä»¶:`, { file, extractedUrl: url });
					return url;
				});

				console.log('ğŸ“· [ProductInfo] æå–åˆ°çš„URLåˆ—è¡¨:', urls);

				if (!Array.isArray(this.localData.product_images)) {
					console.log('ğŸ“· [ProductInfo] åˆå§‹åŒ–å•†å“å›¾ç‰‡æ•°ç»„');
					this.localData.product_images = [];
				}

				const originalCount = this.localData.product_images.length;
				this.localData.product_images = [...this.localData.product_images, ...urls];
				console.log('ğŸ“· [ProductInfo] å›¾ç‰‡æ·»åŠ å®Œæˆ:', {
					originalCount,
					addedCount: urls.length,
					newTotalCount: this.localData.product_images.length,
					allImages: this.localData.product_images
				});

				this.updateData();

				uni.showToast({
					title: `æˆåŠŸä¸Šä¼ ${urls.length}å¼ å›¾ç‰‡`,
					icon: 'success'
				});

				console.log('âœ… [ProductInfo] å•†å“å›¾ç‰‡ä¸Šä¼ æµç¨‹å®Œæˆ');
			} else {
				console.warn('âš ï¸ [ProductInfo] å•†å“å›¾ç‰‡ä¸Šä¼ å¤±è´¥ - æ— æ•ˆçš„æ–‡ä»¶æ•°æ®:', files);
				uni.showToast({
					title: 'å›¾ç‰‡ä¸Šä¼ å¤±è´¥',
					icon: 'error'
				});
			}
		},

		// å›¾ç‰‡é¢„è§ˆæ–¹æ³•
		previewImage(currentUrl, allImages) {
			console.log('ğŸ“¸ [å›¾ç‰‡é¢„è§ˆ] è§¦å‘:', { currentUrl, total: allImages.length });

			if (!allImages || allImages.length === 0) {
				console.warn('ğŸ“¸ [å›¾ç‰‡é¢„è§ˆ] æ²¡æœ‰å›¾ç‰‡å¯ä¾›é¢„è§ˆ');
				return;
			}

			uni.previewImage({
				current: currentUrl,
				urls: allImages
			});
		},

		addProductImageUrl() {
			this.isDirty = true;
			console.log('ğŸ”— [ProductInfo] æ‰‹åŠ¨æ·»åŠ å•†å“å›¾ç‰‡URLå¼€å§‹');
			console.log('ğŸ”— [ProductInfo] è¾“å…¥çš„URL:', this.newProductImageUrl);
			console.log('ğŸ”— [ProductInfo] URLé•¿åº¦:', this.newProductImageUrl ? this.newProductImageUrl.length : 0);
			console.log('ğŸ”— [ProductInfo] å½“å‰å•†å“å›¾ç‰‡æ•°é‡:', (this.localData.product_images || []).length);

			if (this.newProductImageUrl.trim()) {
				const cleanUrl = this.newProductImageUrl.trim();
				console.log('ğŸ”— [ProductInfo] æ¸…ç†åçš„URL:', cleanUrl);

				if (!Array.isArray(this.localData.product_images)) {
					console.log('ğŸ”— [ProductInfo] åˆå§‹åŒ–å•†å“å›¾ç‰‡æ•°ç»„');
					this.localData.product_images = [];
				}

				const originalCount = this.localData.product_images.length;
				this.localData.product_images.push(cleanUrl);
				console.log('ğŸ”— [ProductInfo] URLæ·»åŠ å®Œæˆ:', {
					originalCount,
					newTotalCount: this.localData.product_images.length,
					addedUrl: cleanUrl,
					allImages: this.localData.product_images
				});

				this.newProductImageUrl = '';
				console.log('ğŸ”— [ProductInfo] è¾“å…¥æ¡†å·²æ¸…ç©º');

				this.updateData();

				uni.showToast({
					title: 'å›¾ç‰‡æ·»åŠ æˆåŠŸ',
					icon: 'success'
				});

				console.log('âœ… [ProductInfo] å•†å“å›¾ç‰‡URLæ·»åŠ æµç¨‹å®Œæˆ');
			} else {
				console.warn('âš ï¸ [ProductInfo] å•†å“å›¾ç‰‡URLæ·»åŠ å¤±è´¥ - URLä¸ºç©º');
				uni.showToast({
					title: 'è¯·è¾“å…¥å›¾ç‰‡URL',
					icon: 'error'
				});
			}
		},

		removeProductImage(index) {
			this.isDirty = true;
			console.log('ğŸ—‘ï¸ [ProductInfo] åˆ é™¤å•†å“å›¾ç‰‡å¼€å§‹');
			console.log('ğŸ—‘ï¸ [ProductInfo] è¦åˆ é™¤çš„ç´¢å¼•:', index);
			console.log('ğŸ—‘ï¸ [ProductInfo] å½“å‰å•†å“å›¾ç‰‡æ•°ç»„:', this.localData.product_images);
			console.log('ğŸ—‘ï¸ [ProductInfo] å½“å‰å›¾ç‰‡æ•°é‡:', (this.localData.product_images || []).length);

			if (this.localData.product_images && this.localData.product_images.length > index) {
				const imageToDelete = this.localData.product_images[index];
				console.log('ğŸ—‘ï¸ [ProductInfo] å°†è¦åˆ é™¤çš„å›¾ç‰‡URL:', imageToDelete);

				const originalCount = this.localData.product_images.length;
				this.localData.product_images.splice(index, 1);
				console.log('ğŸ—‘ï¸ [ProductInfo] å›¾ç‰‡åˆ é™¤å®Œæˆ:', {
					deletedImageUrl: imageToDelete,
					deletedIndex: index,
					originalCount,
					newCount: this.localData.product_images.length,
					remainingImages: this.localData.product_images
				});

				this.updateData();

				uni.showToast({
					title: 'å›¾ç‰‡åˆ é™¤æˆåŠŸ',
					icon: 'success'
				});

				console.log('âœ… [ProductInfo] å•†å“å›¾ç‰‡åˆ é™¤æµç¨‹å®Œæˆ');
			} else {
				console.warn('âš ï¸ [ProductInfo] åˆ é™¤å•†å“å›¾ç‰‡å¤±è´¥ - ç´¢å¼•æ— æ•ˆ:', {
					index,
					arrayLength: (this.localData.product_images || []).length,
					array: this.localData.product_images
				});
			}
		},

		// è¯¦æƒ…å›¾ç‰‡å¤„ç†æ–¹æ³• - æµ‹è¯•å¤šä¸ªäº‹ä»¶
		onDetailImagesInput(files) {
			console.log('ğŸš¨ [ProductInfo] è¯¦æƒ…å›¾ç‰‡ @input äº‹ä»¶è§¦å‘:', files);
			console.log('â„¹ï¸ [ProductInfo] @inputäº‹ä»¶ä»…ç”¨äºç›‘æ§ï¼Œä¸å¤„ç†å›¾ç‰‡æ·»åŠ ');
			// æ³¨æ„ï¼š@input äº‹ä»¶ä»…ç”¨äºç›‘æ§ï¼Œå®é™…çš„å›¾ç‰‡æ·»åŠ åœ¨ @success äº‹ä»¶ä¸­å¤„ç†
		},

		onDetailImagesSuccess(files) {
			console.log('ğŸš¨ [ProductInfo] è¯¦æƒ…å›¾ç‰‡ @success äº‹ä»¶è§¦å‘:', files);
			console.log('âœ… [ProductInfo] ä½¿ç”¨@successäº‹ä»¶å¤„ç†å›¾ç‰‡æ·»åŠ ï¼ˆç¡®ä¿ä¸Šä¼ æˆåŠŸï¼‰');
			this.handleDetailImagesUpload(files, 'success');
		},

		onDetailImagesFail(error) {
			console.log('ğŸš¨ [ProductInfo] è¯¦æƒ…å›¾ç‰‡ @fail äº‹ä»¶è§¦å‘:', error);
		},

		onDetailImagesProgress(progress) {
			console.log('ğŸš¨ [ProductInfo] è¯¦æƒ…å›¾ç‰‡ @progress äº‹ä»¶è§¦å‘:', progress);
		},

		onDetailImagesChange(files) {
			console.log('ğŸš¨ [ProductInfo] è¯¦æƒ…å›¾ç‰‡ @select äº‹ä»¶è§¦å‘:', files);
			console.log('â„¹ï¸ [ProductInfo] @selectäº‹ä»¶ä»…ç”¨äºé¢„è§ˆï¼Œä¸å¤„ç†å›¾ç‰‡æ·»åŠ ');
			// æ³¨æ„ï¼š@select äº‹ä»¶ä»…ç”¨äºé¢„è§ˆï¼Œå®é™…çš„å›¾ç‰‡æ·»åŠ åœ¨ @success äº‹ä»¶ä¸­å¤„ç†
		},

		// ç»Ÿä¸€çš„è¯¦æƒ…å›¾ç‰‡å¤„ç†æ–¹æ³•
		handleDetailImagesUpload(files, eventType) {
			console.log('ğŸ–¼ï¸ [ProductInfo] è¯¦æƒ…å›¾ç‰‡ä¸Šä¼ å¼€å§‹');
			console.log('ğŸ–¼ï¸ [ProductInfo] è§¦å‘äº‹ä»¶ç±»å‹:', eventType);
			console.log('ğŸ–¼ï¸ [ProductInfo] æ¥æ”¶åˆ°çš„fileså‚æ•°:', files);
			console.log('ğŸ–¼ï¸ [ProductInfo] filesç±»å‹:', typeof files);
			console.log('ğŸ–¼ï¸ [ProductInfo] å½“å‰è¯¦æƒ…å›¾ç‰‡æ•°é‡:', (this.localData.detail_images || []).length);

			if (files && files.tempFilePaths && files.tempFilePaths.length > 0) {
				console.log('ğŸ–¼ï¸ [ProductInfo] å¤„ç†tempFilePathsæ ¼å¼æ•°æ®');
				console.log('ğŸ–¼ï¸ [ProductInfo] tempFilePathså†…å®¹:', files.tempFilePaths);

				// å¤„ç†ä¸Šä¼ æˆåŠŸçš„å›¾ç‰‡
				const urls = files.tempFilePaths.map((file, index) => {
					const url = file.url || file.path || file;
					console.log(`ğŸ–¼ï¸ [ProductInfo] å¤„ç†ç¬¬${index + 1}å¼ å›¾ç‰‡:`, { file, extractedUrl: url });
					return url;
				});

				console.log('ğŸ–¼ï¸ [ProductInfo] æå–åˆ°çš„URLåˆ—è¡¨:', urls);

				if (!Array.isArray(this.localData.detail_images)) {
					console.log('ğŸ–¼ï¸ [ProductInfo] åˆå§‹åŒ–è¯¦æƒ…å›¾ç‰‡æ•°ç»„');
					this.localData.detail_images = [];
				}

				const originalCount = this.localData.detail_images.length;
				this.localData.detail_images = [...this.localData.detail_images, ...urls];
				console.log('ğŸ–¼ï¸ [ProductInfo] å›¾ç‰‡æ·»åŠ å®Œæˆ:', {
					originalCount,
					addedCount: urls.length,
					newTotalCount: this.localData.detail_images.length,
					allImages: this.localData.detail_images
				});

				this.updateData();

				uni.showToast({
					title: `æˆåŠŸä¸Šä¼ ${urls.length}å¼ å›¾ç‰‡`,
					icon: 'success'
				});

				console.log('âœ… [ProductInfo] è¯¦æƒ…å›¾ç‰‡ä¸Šä¼ æµç¨‹å®Œæˆ');
			} else if (Array.isArray(files) && files.length > 0) {
				console.log('ğŸ–¼ï¸ [ProductInfo] å¤„ç†ç›´æ¥æ–‡ä»¶æ•°ç»„æ ¼å¼');
				console.log('ğŸ–¼ï¸ [ProductInfo] æ–‡ä»¶æ•°ç»„å†…å®¹:', files);

				// ç›´æ¥æ˜¯æ–‡ä»¶æ•°ç»„
				const urls = files.map((file, index) => {
					const url = file.url || file.path || file;
					console.log(`ğŸ–¼ï¸ [ProductInfo] å¤„ç†ç¬¬${index + 1}ä¸ªæ–‡ä»¶:`, { file, extractedUrl: url });
					return url;
				});

				console.log('ğŸ–¼ï¸ [ProductInfo] æå–åˆ°çš„URLåˆ—è¡¨:', urls);

				if (!Array.isArray(this.localData.detail_images)) {
					console.log('ğŸ–¼ï¸ [ProductInfo] åˆå§‹åŒ–è¯¦æƒ…å›¾ç‰‡æ•°ç»„');
					this.localData.detail_images = [];
				}

				const originalCount = this.localData.detail_images.length;
				this.localData.detail_images = [...this.localData.detail_images, ...urls];
				console.log('ğŸ–¼ï¸ [ProductInfo] å›¾ç‰‡æ·»åŠ å®Œæˆ:', {
					originalCount,
					addedCount: urls.length,
					newTotalCount: this.localData.detail_images.length,
					allImages: this.localData.detail_images
				});

				this.updateData();

				uni.showToast({
					title: `æˆåŠŸä¸Šä¼ ${urls.length}å¼ å›¾ç‰‡`,
					icon: 'success'
				});

				console.log('âœ… [ProductInfo] è¯¦æƒ…å›¾ç‰‡ä¸Šä¼ æµç¨‹å®Œæˆ');
			} else {
				console.warn('âš ï¸ [ProductInfo] è¯¦æƒ…å›¾ç‰‡ä¸Šä¼ å¤±è´¥ - æ— æ•ˆçš„æ–‡ä»¶æ•°æ®:', files);
				uni.showToast({
					title: 'å›¾ç‰‡ä¸Šä¼ å¤±è´¥',
					icon: 'error'
				});
			}
		},

		addDetailImageUrl() {
			this.isDirty = true;
			console.log('ğŸ”— [ProductInfo] æ‰‹åŠ¨æ·»åŠ è¯¦æƒ…å›¾ç‰‡URLå¼€å§‹');
			console.log('ğŸ”— [ProductInfo] è¾“å…¥çš„URL:', this.newDetailImageUrl);
			console.log('ğŸ”— [ProductInfo] URLé•¿åº¦:', this.newDetailImageUrl ? this.newDetailImageUrl.length : 0);
			console.log('ğŸ”— [ProductInfo] å½“å‰è¯¦æƒ…å›¾ç‰‡æ•°é‡:', (this.localData.detail_images || []).length);

			if (this.newDetailImageUrl.trim()) {
				const cleanUrl = this.newDetailImageUrl.trim();
				console.log('ğŸ”— [ProductInfo] æ¸…ç†åçš„URL:', cleanUrl);

				if (!Array.isArray(this.localData.detail_images)) {
					console.log('ğŸ”— [ProductInfo] åˆå§‹åŒ–è¯¦æƒ…å›¾ç‰‡æ•°ç»„');
					this.localData.detail_images = [];
				}

				const originalCount = this.localData.detail_images.length;
				this.localData.detail_images.push(cleanUrl);
				console.log('ğŸ”— [ProductInfo] URLæ·»åŠ å®Œæˆ:', {
					originalCount,
					newTotalCount: this.localData.detail_images.length,
					addedUrl: cleanUrl,
					allImages: this.localData.detail_images
				});

				this.newDetailImageUrl = '';
				console.log('ğŸ”— [ProductInfo] è¾“å…¥æ¡†å·²æ¸…ç©º');

				this.updateData();

				uni.showToast({
					title: 'å›¾ç‰‡æ·»åŠ æˆåŠŸ',
					icon: 'success'
				});

				console.log('âœ… [ProductInfo] è¯¦æƒ…å›¾ç‰‡URLæ·»åŠ æµç¨‹å®Œæˆ');
			} else {
				console.warn('âš ï¸ [ProductInfo] è¯¦æƒ…å›¾ç‰‡URLæ·»åŠ å¤±è´¥ - URLä¸ºç©º');
				uni.showToast({
					title: 'è¯·è¾“å…¥å›¾ç‰‡URL',
					icon: 'error'
				});
			}
		},

		removeDetailImage(index) {
			this.isDirty = true;
			console.log('ğŸ—‘ï¸ [ProductInfo] åˆ é™¤è¯¦æƒ…å›¾ç‰‡å¼€å§‹');
			console.log('ğŸ—‘ï¸ [ProductInfo] è¦åˆ é™¤çš„ç´¢å¼•:', index);
			console.log('ğŸ—‘ï¸ [ProductInfo] å½“å‰è¯¦æƒ…å›¾ç‰‡æ•°ç»„:', this.localData.detail_images);
			console.log('ğŸ—‘ï¸ [ProductInfo] å½“å‰å›¾ç‰‡æ•°é‡:', (this.localData.detail_images || []).length);

			if (this.localData.detail_images && this.localData.detail_images.length > index) {
				const imageToDelete = this.localData.detail_images[index];
				console.log('ğŸ—‘ï¸ [ProductInfo] å°†è¦åˆ é™¤çš„å›¾ç‰‡URL:', imageToDelete);

				const originalCount = this.localData.detail_images.length;
				this.localData.detail_images.splice(index, 1);
				console.log('ğŸ—‘ï¸ [ProductInfo] å›¾ç‰‡åˆ é™¤å®Œæˆ:', {
					deletedImageUrl: imageToDelete,
					deletedIndex: index,
					originalCount,
					newCount: this.localData.detail_images.length,
					remainingImages: this.localData.detail_images
				});

				this.updateData();

				uni.showToast({
					title: 'å›¾ç‰‡åˆ é™¤æˆåŠŸ',
					icon: 'success'
				});

				console.log('âœ… [ProductInfo] è¯¦æƒ…å›¾ç‰‡åˆ é™¤æµç¨‹å®Œæˆ');
			} else {
				console.warn('âš ï¸ [ProductInfo] åˆ é™¤è¯¦æƒ…å›¾ç‰‡å¤±è´¥ - ç´¢å¼•æ— æ•ˆ:', {
					index,
					arrayLength: (this.localData.detail_images || []).length,
					array: this.localData.detail_images
				});
			}
		},

		// æ‹–æ‹½æ’åºç›¸å…³æ–¹æ³•
		onDragStart(event, index, type) {
			console.log('ğŸ¯ [ProductInfo] å¼€å§‹æ‹–æ‹½:', { index, type });
			this.draggingIndex = index;
			this.draggingType = type;

			// è®¾ç½®æ‹–æ‹½æ•°æ®
			if (event.dataTransfer) {
				event.dataTransfer.setData('text/plain', `${index},${type}`);
				event.dataTransfer.effectAllowed = 'move';
			}
		},

		onDragOver(event) {
			event.preventDefault();
			this.isDragOver = true;

			// è·å–ç›®æ ‡ç´¢å¼•
			const target = event.currentTarget;
			if (target && target.getAttribute) {
				const index = target.getAttribute('data-index');
				if (index !== null) {
					this.dropTargetIndex = parseInt(index);
				}
			}

			if (event.dataTransfer) {
				event.dataTransfer.dropEffect = 'move';
			}
		},

		onDrop(event, targetIndex, targetType) {
			event.preventDefault();
			console.log('ğŸ“ [ProductInfo] æ‹–æ‹½æ”¾ç½®å¼€å§‹');
			console.log('ğŸ“ [ProductInfo] ç›®æ ‡ä½ç½®:', targetIndex);
			console.log('ğŸ“ [ProductInfo] ç›®æ ‡ç±»å‹:', targetType);
			console.log('ğŸ“ [ProductInfo] æºç´¢å¼•:', this.draggingIndex);
			console.log('ğŸ“ [ProductInfo] æºç±»å‹:', this.draggingType);

			// åªå…è®¸åŒç±»å‹å›¾ç‰‡ä¹‹é—´æ‹–æ‹½
			if (this.draggingType !== targetType) {
				console.warn('âš ï¸ [ProductInfo] æ‹–æ‹½å¤±è´¥ - ç±»å‹ä¸åŒ¹é…:', {
					sourceType: this.draggingType,
					targetType: targetType
				});
				this.resetDragState();
				return;
			}

			const sourceIndex = this.draggingIndex;

			if (sourceIndex !== targetIndex && sourceIndex >= 0) {
				this.isDirty = true;
				console.log('ğŸ“ [ProductInfo] å¼€å§‹é‡æ’å›¾ç‰‡æ•°ç»„');

				// é‡æ–°æ’åˆ—æ•°ç»„
				const images = targetType === 'product' ? [...this.localData.product_images] : [...this.localData.detail_images];

				console.log('ğŸ“ [ProductInfo] åŸå§‹æ•°ç»„:', images);
				console.log('ğŸ“ [ProductInfo] è¦ç§»åŠ¨çš„å›¾ç‰‡:', images[sourceIndex]);

				// ç§»åŠ¨å…ƒç´ 
				const [movedItem] = images.splice(sourceIndex, 1);
				images.splice(targetIndex, 0, movedItem);

				console.log('ğŸ“ [ProductInfo] é‡æ’åæ•°ç»„:', images);
				console.log('ğŸ“ [ProductInfo] ç§»åŠ¨çš„å…ƒç´ :', movedItem);

				// æ›´æ–°æ•°æ®
				if (targetType === 'product') {
					this.localData.product_images = images;
					console.log('ğŸ“ [ProductInfo] å•†å“å›¾ç‰‡æ•°ç»„å·²æ›´æ–°');
				} else {
					this.localData.detail_images = images;
					console.log('ğŸ“ [ProductInfo] è¯¦æƒ…å›¾ç‰‡æ•°ç»„å·²æ›´æ–°');
				}

				this.updateData();

				uni.showToast({
					title: 'å›¾ç‰‡é¡ºåºè°ƒæ•´æˆåŠŸ',
					icon: 'success'
				});

				console.log('âœ… [ProductInfo] å›¾ç‰‡é‡æ’å®Œæˆ:', {
					sourceIndex,
					targetIndex,
					type: targetType,
					movedItem,
					finalArray: images
				});
			} else {
				console.log('â„¹ï¸ [ProductInfo] æ— éœ€é‡æ’ - ç›¸åŒä½ç½®æˆ–æ— æ•ˆç´¢å¼•:', {
					sourceIndex,
					targetIndex,
					isSamePosition: sourceIndex === targetIndex,
					isValidIndex: sourceIndex >= 0
				});
			}

			this.resetDragState();
		},

		onDragEnd() {
			this.resetDragState();
		},

		resetDragState() {
			console.log('ğŸ”„ [ProductInfo] é‡ç½®æ‹–æ‹½çŠ¶æ€');
			console.log('ğŸ”„ [ProductInfo] é‡ç½®å‰çŠ¶æ€:', {
				draggingIndex: this.draggingIndex,
				draggingType: this.draggingType,
				isDragOver: this.isDragOver,
				dropTargetIndex: this.dropTargetIndex
			});

			this.draggingIndex = -1;
			this.draggingType = '';
			this.isDragOver = false;
			this.dropTargetIndex = -1;

			console.log('âœ… [ProductInfo] æ‹–æ‹½çŠ¶æ€å·²é‡ç½®');
		}
	}
};
</script>

<style scoped>
/* è¡¨æ ¼æ ·å¼ä¼˜åŒ– */
table {
	border-collapse: separate;
	border-spacing: 0;
}

/* ç§»åŠ¨ç«¯å“åº”å¼ */
@media (max-width: 480px) {
	.grid.grid-cols-5 {
		grid-template-columns: repeat(4, minmax(0, 1fr));
	}

	.w-18 {
		width: 4rem; /* 64px */
	}

	.h-18 {
		height: 4rem; /* 64px */
	}
}

@media (max-width: 768px) {
	.table-responsive {
		font-size: 0.9rem;
	}
}

/* è‡ªå®šä¹‰å°ºå¯¸ */
.w-18 {
	width: 4.5rem; /* 72px */
}

.h-18 {
	height: 4.5rem; /* 72px */
}

/* å›¾ç‰‡ç½‘æ ¼ä¼˜åŒ– */
.grid.grid-cols-5 {
	grid-template-columns: repeat(5, minmax(0, 1fr));
}

@media (min-width: 640px) {
	.grid.sm\\:grid-cols-7 {
		grid-template-columns: repeat(7, minmax(0, 1fr));
	}
}

@media (min-width: 768px) {
	.grid.md\\:grid-cols-9 {
		grid-template-columns: repeat(9, minmax(0, 1fr));
	}
}

/* éšè— uni-file-picker å†…éƒ¨çš„é»˜è®¤å±•ç¤º */
.uni-file-picker /deep/ .uni-file-picker__container .file-picker__box {
	display: none !important;
}

/* åªæ˜¾ç¤ºæˆ‘ä»¬è‡ªå®šä¹‰çš„ä¸Šä¼ æŒ‰é’® */
.uni-file-picker /deep/ .uni-file-picker__container {
	margin: 0 !important;
	padding: 0 !important;
}

/* ç¡®ä¿ä¸Šä¼ æŒ‰é’®æ‚¬åœæ•ˆæœæ­£å¸¸ */
.group:hover .group-hover\:opacity-100 {
	opacity: 1;
}

/* æ‹–æ‹½æ ·å¼ */
.cursor-move {
	cursor: move;
}

/* æ‹–æ‹½æ—¶çš„è§†è§‰åé¦ˆ */
[draggable='true']:hover {
	transform: translateY(-2px);
	box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

/* æ‹–æ‹½ä¸­çš„å…ƒç´ æ ·å¼ */
.scale-105 {
	transform: scale(1.05);
}

/* æ‹–æ‹½æ”¾ç½®åŒºåŸŸæ ·å¼ */
.drag-over {
	background-color: rgba(59, 130, 246, 0.1);
	border-color: #3b82f6;
}

/* å¹³æ»‘è¿‡æ¸¡åŠ¨ç”» */
.transition-all {
	transition: all 0.2s ease-in-out;
}

.star-rating-container {
	position: relative;
	display: inline-block; /* è®©å®¹å™¨åªå å†…å®¹å®½åº¦ */
	vertical-align: middle; /* æ–¹ä¾¿å’Œæ—è¾¹çš„æ–‡å­—å¯¹é½ */
}

.stars-background {
	/* flex å¸ƒå±€è®©æ˜Ÿæ˜Ÿæ’æˆä¸€è¡Œ */
	display: flex;
	white-space: nowrap; /* é˜²æ­¢æ˜Ÿæ˜Ÿæ¢è¡Œ */
}

.stars-foreground {
	position: absolute;
	top: 0;
	left: 0;
	display: flex;
	white-space: nowrap;
	overflow: hidden; /* å…³é”®ï¼šè£å‰ªå‰æ™¯å±‚ */
}

/* ç»Ÿä¸€ç»™æ˜Ÿæ˜Ÿä¸€ç‚¹é—´è·ï¼Œä½¿å…¶ä¸è‡³äºç²˜åœ¨ä¸€èµ· */
.star-rating-container .fa-star {
	margin-right: 2px;
}
/* æœ€åä¸€ä¸ªæ˜Ÿæ˜Ÿä¸éœ€è¦å³è¾¹è· */
.star-rating-container .fa-star:last-child {
	margin-right: 0;
}
</style>
